"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys);exports.select=select,exports.update=update,exports.insert=insert,exports.delet=delet,exports.query=query;var _util=require("./util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function select(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t="";if(this.sqlObj.union)return t=-1!=(t=this.sqlObj.union).substr(-10).indexOf("ALL")?t.replace(/\sUNION\sALL\s*$/,""):t.replace(/\sUNION\s*$/,""),this.sqlObj={},t;var s=(0,_util.sortSelectSql)(this.sqlObj);s.sortkeys.forEach(function(e){s.result[e]&&(t=t+" "+s.result[e])});var r="SELECT "+t.replace(/'/g,"'").replace(/`/g,"'")+" ";return e?(this.sqlObj.sqlStr=r,this):(this.sqlObj={},r)}function update(){var s=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],l="",i=this.sqlObj.data,n=(0,_keys2.default)(i);n.forEach(function(e,t){l=""+l+e+"="+(0,_util.checkOptType)(i[e],e,s,r)+(t==n.length-1?"":" , ")});var e=("UPDATE "+this.sqlObj.table+" SET "+l+(this.sqlObj.where?" WHERE "+this.sqlObj.where:"")).replace(/'/g,"'").replace(/`/g,"'");return s&&!r?(this.sqlObj.sqlStr=e,this):(this.sqlObj={},e)}function insert(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.sqlObj.data,t=(0,_util.handleInsertData)(t),t=("INSERT INTO "+this.sqlObj.table+" "+t).replace(/'/g,"'").replace(/`/g,"'");return e?(this.sqlObj.sqlStr=t,this):(this.sqlObj={},t)}function delet(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=("DELETE FROM "+this.sqlObj.table+(this.sqlObj.where?" WHERE "+this.sqlObj.where:"")).replace(/'/g,"'").replace(/`/g,"'");return e?(this.sqlObj.sqlStr=t,this):(this.sqlObj={},t)}function query(e){return e=e||"",1<arguments.length&&void 0!==arguments[1]&&arguments[1]?(this.sqlObj.sqlStr=e,this):e}